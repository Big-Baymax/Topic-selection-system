@extends('admin/layouts.base')@section('title', '主页')@section('body')<body class="gray-bg"><div class="wrapper wrapper-content">    <div class="row">        <div class="col-sm-3">            <div class="widget style1 navy-bg">                <div class="row">                    <div class="col-xs-4">                        <i class="fa fa-line-chart fa-5x"></i>                    </div>                    <div class="col-xs-8 text-right">                        <span> 系统访问量 </span>                        <h2 class="font-bold">{$visit_count}</h2>                    </div>                </div>            </div>        </div>        <div class="col-sm-3">            <div class="widget style1 navy-bg">                <div class="row">                    <div class="col-xs-4">                        <i class="fa fa-address-book-o fa-5x"></i>                    </div>                    <div class="col-xs-8 text-right">                        <span> 系统用户量 </span>                        <h2 class="font-bold">{$user_count}</h2>                    </div>                </div>            </div>        </div>        <div class="col-sm-3">            <div class="widget style1 navy-bg">                <div class="row">                    <div class="col-xs-4">                        <i class="fa fa-male fa-5x"></i>                    </div>                    <div class="col-xs-8 text-right">                        <span> 周活跃用户量 </span>                        <h2 class="font-bold">{$active_user_count}</h2>                    </div>                </div>            </div>        </div>        <div class="col-sm-3">            <div class="widget style1 navy-bg">                <div class="row">                    <div class="col-xs-4">                        <i class="fa fa-hard-of-hearing fa-5x"></i>                    </div>                    <div class="col-xs-8 text-right">                        <span> 周活跃接口量 </span>                        <h2 class="font-bold">{$active_inter_count}</h2>                    </div>                </div>            </div>        </div>    </div>    <div class="row">        <div class="col-sm-12">            <div class="ibox float-e-margins">                <div class="ibox-title">                    <h5>系统各个接口访问量</h5>                </div>                <div class="ibox-content" style="display: block;">                    <div id="ec-bar" style="height:400px"></div>                </div>            </div>        </div>    </div>    <div class="row">        <div class="col-sm-6">            <div class="ibox float-e-margins">                <div class="ibox-title">                    <h5>接口申请与申请统计</h5>                </div>                <div class="ibox-content" style="display: block;">                    <div id="ec-bar-inter" style="height:400px"></div>                </div>            </div>        </div>        <div class="col-sm-6">            <div class="ibox float-e-margins">                <div class="ibox-title">                    <h5>在线体验次数统计</h5>                </div>                <div class="ibox-content" style="display: block;">                    <div id="ec-bar-example" style="height:400px"></div>                </div>            </div>        </div>    </div>    <div class="row">        <div class="col-sm-6">            <div class="ibox float-e-margins">                <div class="ibox-title">                    <h5>用户使用接口所用浏览器</h5>                </div>                <div class="ibox-content" style="display: block;">                    <div id="ec-pie" style="height:400px"></div>                </div>            </div>        </div>        <div class="col-sm-6">            <div class="ibox float-e-margins">                <div class="ibox-title">                    <h5>用户使用接口所用系统</h5>                </div>                <div class="ibox-content" style="display: block;">                    <div id="ec-pie-os" style="height:400px"></div>                </div>            </div>        </div>    </div>    <div class="row">        <div class="col-sm-6">            <div class="ibox float-e-margins">                <div class="ibox-title">                    <h5>在线体验</h5>                </div>                <div class="ibox-content">                </div>            </div>        </div>    </div></div></body>@endsection@section('linkjs')<script src="/js/plugins/echarts/echarts.js"></script>@endsection@section('js')    @parent<script type="text/javascript">    // 路径配置    require.config({        paths: {            echarts: '/js/plugins/echarts/dist'        }    });    $(function () {        //var url = [{volist name="visit_url_arr" id="data" empty=""}"{$data}", {/volist}];        //var count = [{volist name="visit_url_count_arr" id="data" empty=""}"{$data}", {/volist}];        var url = {$visit_url_arr};        var count = {$visit_url_count_arr};        var broswer_arr = {$broswer_arr};        var broswer_count_arr = {$broswer_count_arr};        var os_arr = {$os_arr};        var os_count_arr = {$os_count_arr};        var inter = {$inter_count};        var inter_sum = {$inter_count_sum};        var inter_use = {$inter_count_use};        var example_count_arr = {$example_count_arr};        var example_name_arr = {$example_name_arr};    // 使用    require(        [            'echarts',            'echarts/chart/bar',// 使用柱状图就加载bar模块，按需加载            'echarts/chart/pie',            'echarts/chart/line',            'echarts/chart/funnel'        ],        function (ec) {            // 柱状图系统浏览统计            var myChart = ec.init(document.getElementById('ec-bar'),'macarons');            var option = {                title : {                    text: '整个系统各个URL用户访问数量统计',                    subtext: '地址为空，表示根目录'                },                tooltip : {                    trigger: 'axis'                },                legend: {                    data:['访问量']                },                toolbox: {                    show : true,                    feature : {                        mark : {show: true},                        dataView : {show: true, readOnly: false},                        magicType : {show: true, type: ['line', 'bar']},                        restore : {show: true},                        saveAsImage : {show: true}                    }                },                calculable : true,                xAxis : [                    {                        type : 'category',                        data : url                    }                ],                yAxis : [                    {                        type : 'value',                        'name':'次数',                    }                ],                series : [                    {                        name:'访问量',                        type:'bar',                        "data":count,                        markPoint : {                            data : [                                {type : 'max', name: '最大值'},                                {type : 'min', name: '最小值'}                            ]                        },                        markLine : {                            data : [                                {type : 'average', name: '平均值'}                            ]                        }                    }                ]            };            // 为echarts对象加载数据            myChart.setOption(option);            //饼（圆环）图浏览器            var chart_pie= ec.init(document.getElementById('ec-pie'));            option = {                title : {                    text: '用户所用的浏览器统计',                    subtext: '目前只识别主流的浏览器内核',                    x:'center'                },                tooltip : {                    trigger: 'item',                    formatter: "{a} <br/>{b} : {c} ({d}%)"                },                legend: {                    orient : 'vertical',                    x : 'left',                    data:broswer_arr                },                toolbox: {                    show : true,                    feature : {                        mark : {show: true},                        dataView : {show: true, readOnly: false},                        magicType : {                            show: true,                            type: ['pie', 'funnel'],                            option: {                                funnel: {                                    x: '25%',                                    width: '50%',                                    funnelAlign: 'left',                                    max: 1548                                }                            }                        },                        restore : {show: true},                        saveAsImage : {show: true}                    }                },                calculable : true,                series : [                    {                        name:'所用浏览器',                        type:'pie',                        radius : '55%',                        center: ['50%', '60%'],                        data: broswer_count_arr                    }                ]            };            chart_pie.setOption(option);            //饼（圆环）图系统            var chart_pie= ec.init(document.getElementById('ec-pie-os'));            option = {                title : {                    text: '用户所用的系统统计',                    subtext: '识别的系统多大十几种',                    x:'center'                },                tooltip : {                    trigger: 'item',                    formatter: "{a} <br/>{b} : {c} ({d}%)"                },                legend: {                    orient : 'vertical',                    x : 'left',                    data:os_arr                },                toolbox: {                    show : true,                    feature : {                        mark : {show: true},                        dataView : {show: true, readOnly: false},                        magicType : {                            show: true,                            type: ['pie', 'funnel'],                            option: {                                funnel: {                                    x: '25%',                                    width: '50%',                                    funnelAlign: 'left',                                    max: 1548                                }                            }                        },                        restore : {show: true},                        saveAsImage : {show: true}                    }                },                calculable : true,                series : [                    {                        name:'所用系统',                        type:'pie',                        radius : '55%',                        center: ['50%', '60%'],                        data:os_count_arr                    }                ]            };            chart_pie.setOption(option);            //柱状图接口申请与申请统计            myChart = ec.init(document.getElementById('ec-bar-inter'),'macarons');            option = {                title : {                    text: '接口申请与申请统计',                    subtext: '地址为空，表示根目录'                },                tooltip : {                    trigger: 'axis'                },                legend: {                    data:['申请个数','使用次数']                },                toolbox: {                    show : true,                    feature : {                        mark : {show: true},                        dataView : {show: true, readOnly: false},                        magicType : {show: true, type: ['line', 'bar']},                        restore : {show: true},                        saveAsImage : {show: true}                    }                },                calculable : true,                xAxis : [                    {                        type : 'category',                        data : inter                    }                ],                yAxis : [                    {                        type : 'value'                    }                ],                series : [                    {                        name:'申请个数',                        type:'bar',                        "data":inter_sum,                        markPoint : {                            data : [                                {type : 'max', name: '最大值'},                                {type : 'min', name: '最小值'}                            ]                        },                        markLine : {                            data : [                                {type : 'average', name: '平均值'}                            ]                        }                    },                    {                        name:'使用次数',                        type:'bar',                        "data":inter_use,                        markPoint : {                            data : [                                {type : 'max', name: '最大值'},                                {type : 'min', name: '最小值'}                            ]                        },                        markLine : {                            data : [                                {type : 'average', name: '平均值'}                            ]                        }                    }                ]            };            myChart.setOption(option);            //柱状图在线体验次数统计            myChart = ec.init(document.getElementById('ec-bar-example'),'macarons');            option = {                title : {                    text: '各功能在线体验次数统计',                    subtext: '地址为空，表示根目录'                },                tooltip : {                    trigger: 'axis'                },                legend: {                    data:['体验次数']                },                toolbox: {                    show : true,                    feature : {                        mark : {show: true},                        dataView : {show: true, readOnly: false},                        magicType : {show: true, type: ['line', 'bar']},                        restore : {show: true},                        saveAsImage : {show: true}                    }                },                calculable : true,                xAxis : [                    {                        type : 'category',                        data : example_name_arr                    }                ],                yAxis : [                    {                        type : 'value'                    }                ],                series : [                    {                        name:'体验次数',                        type:'bar',                        "data":example_count_arr,                        markPoint : {                            data : [                                {type : 'max', name: '最大值'},                                {type : 'min', name: '最小值'}                            ]                        },                        markLine : {                            data : [                                {type : 'average', name: '平均值'}                            ]                        }                    }                ]            };            myChart.setOption(option);        }    );    });</script>@endsection